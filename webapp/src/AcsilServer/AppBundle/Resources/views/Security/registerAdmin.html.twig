{% extends '::base.html.twig' %}
{# Page for authentification #}
{#BLOCK TITRE#}
{% block title %}Register Admin{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	{% stylesheets filter='cssrewrite' '@AcsilServerAppBundle/Resources/public/css/*' %}
		<link href="{{ asset('public/css/bootstrap-fileupload.css') }}" rel="stylesheet" />
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" media="all" rel="stylesheet" type="text/css"> {#font-awesome doesn't work on IE and FF so we have to use this one#}
		<link href="{{ asset('public/css/dropzone.css') }}" rel="stylesheet" />
		<link href="{{ asset('public/css/style.css') }}" rel="stylesheet" />
		<link href="{{ asset('public/css/style_responsive.css') }}" rel="stylesheet" />
		<link href="{{ asset('public/css/style_default.css') }}" rel="stylesheet"  id="style_color" />
		<link href="{{ asset('public/css/jquery.fancybox.css') }}" rel="stylesheet" />
		<link href="{{ asset('public/css/uniform.default.css') }}" rel="stylesheet" type="text/css"/> 
	{% endstylesheets %} 
{% endblock %}

{# BEGIN BODY #}
{% block body %}
	
	{# Check errors when form is full #}
	{% if errorForm == "errorSizePwd" %}
		<script type="text/javascript"> alert('Password must have at least 6 characters'); </script>
	{% endif %}
	{% if errorForm == "errorPwd" %}
		<script type="text/javascript"> alert('Password and Confirm Password are different'); </script>
	{% endif %}
	{% if errorForm == "errorMail" %}
		<script type="text/javascript"> alert('E-mail already use. Please choose an other one'); </script>
	{% endif %}
	{% if errorForm == "errorPicture" %}
		<script type="text/javascript"> alert('Picture Account should be a .jpeg .jpg .png or.gif file'); </script>
	{% endif %}

	{# BEGIN LOGIN #}
	<div id="login" style="width:768px">
	 {# BEGIN LOGIN FORM #}
	 <form action="{{ path('_register') }}" method="post" id="loginform" class="form-vertical no-padding no-margin" {{ form_enctype(newUserForm) }}>
	{{ form_errors(newUserForm) }}

	 <div class="lock">
          <i class="icon-cloud"></i>		  
     </div>
     <div class="control-wrap">
	 
	{% if app.request.get('_route') == '_login' %}
		<h4>{{ 'Welcome admin'|trans }}</h4>
	{% else %}
		<h4>{{ 'Create an account'|trans }}</h4>
	{% endif %}  
	
    <div class="control-group">
        <div class="controls">
            <div class="input-prepend">
                 <span class="add-on"><i class="icon-user"></i></span>
			  	{{ form_errors(newUserForm.firstname) }}
			    {{ form_widget(newUserForm.firstname, {'attr': {'class': 'control', 'placeholder': 'Firstname'}}) }}
                <span class="add-on" style="margin-left:59px"><i class="icon-user"></i></span>
				{{ form_errors(newUserForm.lastname) }}
				{{ form_widget(newUserForm.lastname, {'attr': {'class': 'control', 'placeholder': 'Lastname'}}) }}
  		    </div>
			<div class="input-prepend">
                <span class="add-on"><i class="icon-envelope"></i></span>
			    {{ form_errors(newUserForm.email) }}
				{{ form_widget(newUserForm.email, {'attr': {'class': 'input-xxlarge', 'placeholder': 'Email'}}) }}
			</div>
			<div class="input-prepend">
                <span class="add-on"><i class="icon-key"></i></span>
				{{ form_errors(newUserForm.password) }}
				{{ form_widget(newUserForm.password, {'attr': {'class': 'control', 'placeholder': 'Password'}}) }}
				<span class="add-on" style="margin-left:59px"><i class="icon-key"></i></span>
				{{ form_errors(newUserForm.confirm_password) }}
				{{ form_widget(newUserForm.confirm_password, {'attr': {'class': 'control', 'placeholder': 'Confirm password'}}) }}
			</div>
        </div>
     </div>
    <div class="row-fluid">
			<div class="input-prepend">
			    {#{{ form_label(newUserForm.pictureAccount, newUserForm.pictureAccount.vars.id|replace({'_':'.'}), {'label_attr': {'class': 'control-label'}}) }}#}
			    Profile picture
			    <div class="controls">
					<h5> <i class="icon-camera"></i> Account picture </h5>
				    {{ form_errors(newUserForm.pictureAccount) }}
				    {{ form_widget(newUserForm.pictureAccount, {'attr': {'class': 'control','label': 'No account picture selected'}}) }}
				</div><!-- controls -->
			</div><!-- control group -->
	</div><!-- row fluid -->
				  
                  <div class="clearfix space5"></div>
      </div>
	  
	  	{{ form_rest(newUserForm) }}
	
	    <input id="login-btn" class="btn btn-block login-btn" type="submit" value="{{ 'submit'|trans }}" />  
	 </form>
	
    {# END LOGIN FORM #}        
  </div>
  {# END LOGIN #}
  
  {# BEGIN JAVASCRIPTS #}
	{% block javascripts %}
	<script src="{{asset('public/js/jquery-1.8.3.min.js')}}"></script>
	<script src="{{asset('public/js/bootstrap.min.js')}}"></script>
	<script src="{{asset('public/js/jquery.blockui.js')}}"></script>
	<script type="text/javascript" src="{{asset('public/js/chosen.jquery.min.js')}}"></script>
	<script type="text/javascript" src="{{asset('public/js/jquery.uniform.min.js')}}"></script>
	{# BEGIN PAGE LEVEL PLUGINS #}
	<script src="{{asset('public/js/dropzone.js')}}"></script>
	<script src="{{asset('public/js/scripts.js')}}"></script>
	{# END PAGE LEVEL PLUGINS #}
	<script>
    jQuery(document).ready(function() {     
       App.init();
	  App.initLogin();
    });
	</script>
	
 {% endblock %}
  {# END JAVASCRIPTS #}
  
{# END BODY #}
{% endblock %}
